{
    "sourceFile": "src/app/routes/cart/cart.component.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1738228603737,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1738228603737,
            "name": "Commit-0",
            "content": "<head>\r\n  <script src=\"https://checkout.razorpay.com/v1/checkout.js\"></script>\r\n</head>\r\n\r\n<app-myheader class=\"header\"></app-myheader>\r\n\r\n<mat-toolbar color=\"primary\" class=\"toolbar-second-line\">\r\n  <!-- Back Arrow Button -->\r\n  <button mat-icon-button class=\"back-button\" (click)=\"goBack()\">\r\n    <mat-icon>arrow_back</mat-icon>\r\n  </button>\r\n  <span class=\"cart-title\">Your Cart</span>\r\n  <div class=\"spacer\"></div>\r\n  <!-- Location Section -->\r\n  <mat-card class=\"location-card\">\r\n    <mat-card-content class=\"location-section\">\r\n      <mat-icon>location_on</mat-icon>\r\n      <div>\r\n        <p class=\"location-text\">{{ locationDetails }}</p>\r\n      </div>\r\n      <button mat-icon-button class=\"dropdown-icon\">\r\n        <mat-icon class=\"dropdown-icon\">expand_more</mat-icon>\r\n      </button>\r\n    </mat-card-content>\r\n  </mat-card>\r\n</mat-toolbar>\r\n\r\n<!-- Cart Section -->\r\n<div class=\"cart-container\">\r\n  <mat-card class=\"cart-card\">\r\n    <mat-card-content>\r\n      <mat-stepper #stepper [linear]=\"true\" class=\"stepper\" (selectionChange)=\"onStepChange($event)\">\r\n\r\n        <!-- Step 1: Cart -->\r\n        <mat-step label=\"Cart\">\r\n          <p>Cart Details</p>\r\n          <legend>{{ cartItems.length }} Cart Items</legend>\r\n\r\n          <mat-card class=\"patient-card\" *ngFor=\"let patient of cartItems; let i = index\">\r\n            <!-- Patient Details -->\r\n            <div class=\"item-details\">\r\n              <legend class=\"patient-name\">\r\n                <mat-icon>person</mat-icon>\r\n                {{ patient.patientName }}\r\n              </legend>\r\n            </div>\r\n\r\n            <!-- List of Tests for this Patient -->\r\n            <mat-card class=\"test-card\" *ngFor=\"let test of patient.tests\">\r\n              <div>\r\n                <p class=\"test-name\">\r\n                  <mat-icon>home</mat-icon>\r\n                  {{ test.testName }}\r\n                </p>\r\n              </div>\r\n              <div class=\"item-price\">\r\n                <span>₹{{ test.price }}/-</span>\r\n                <mat-icon\r\n                  color=\"warn\"\r\n                  class=\"delete-icon\"\r\n                  (click)=\"removeTest(patient.id, test.id)\"\r\n                  >delete</mat-icon\r\n                >\r\n              </div>\r\n            </mat-card>\r\n            <!-- Add Test Button for Each Patient -->\r\n            <button mat-button class=\"add-more-tests\" (click)=\"addTest(patient.id)\">\r\n              <mat-icon>add_circle</mat-icon>\r\n              Add More Tests or Health Check Packages\r\n            </button>\r\n            </mat-card>\r\n\r\n            <!-- Add Patient Button -->\r\n            <div class=\"button-container\">\r\n              <button mat-raised-button (click)=\"addAnotherPatient()\">\r\n                <mat-icon>person_add</mat-icon>\r\n                Add Another Patient\r\n              </button>\r\n            </div>\r\n\r\n            </mat-step>\r\n\r\n\r\n\r\n            <!-- Step 2: Cart -->\r\n            <mat-step label=\"Home Slot\">\r\n              <p>Home Slot Details</p>\r\n              <div class=\"step-content\">\r\n                <mat-card class=\"home-slot-card\">\r\n                  <div>\r\n                    <p>\r\n                      <mat-icon>pin_drop</mat-icon>{{ locationDetails }}\r\n                    </p>\r\n                    <!-- Change button -->\r\n                    <button\r\n                      mat-raised-button\r\n                      color=\"primary\"\r\n                      (click)=\"toggleForm()\"\r\n                    >\r\n                      <mat-icon *ngIf=\"!showForm\">edit</mat-icon>\r\n                      <mat-icon *ngIf=\"showForm\">close</mat-icon>\r\n                      {{ showForm ? 'Cancel' : 'Change' }}\r\n                    </button>\r\n                  </div>\r\n\r\n                  <!-- Form Fields -->\r\n                  <div *ngIf=\"showForm\">\r\n                    <div>\r\n                      <label>Phlebo will visit at this address</label>\r\n                      <mat-form-field>\r\n                        <mat-label>Address Line 1</mat-label>\r\n                        <input matInput [(ngModel)]=\"addressLine1\" placeholder=\"Enter Address Line 1\" required />\r\n                      </mat-form-field>\r\n                    </div>\r\n                    <div class=\"second-line\">\r\n                      <div class=\"address-container\">\r\n                        <!-- Address Line 2 Input -->\r\n                        <mat-form-field class=\"address-field\">\r\n                          <mat-label>Address Line 2</mat-label>\r\n                          <input matInput [(ngModel)]=\"addressLine2\" placeholder=\"Enter Address Line 2\" />\r\n                        </mat-form-field>\r\n\r\n                        <!-- Address Type Buttons -->\r\n                        <div class=\"address-type\">\r\n                          <button mat-stroked-button>\r\n                            <mat-icon>home</mat-icon>\r\n                            Home\r\n                          </button>\r\n                          <button mat-stroked-button>\r\n                            <mat-icon>work</mat-icon>\r\n                            Work\r\n                          </button>\r\n                          <button mat-stroked-button>\r\n                            <mat-icon>location_on</mat-icon>\r\n                            Others\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </mat-card>\r\n                <mat-card class=\"updates-card\">\r\n                  <label>Updates/Reports will be sent on</label>\r\n                  <div class=\"input-container\">\r\n                    <mat-form-field class=\"phone-field\">\r\n                      <mat-label>Phone*</mat-label>\r\n                      <input matInput [(ngModel)]=\"phone\" placeholder=\"Enter Phone Number\" />\r\n                    </mat-form-field>\r\n                    <mat-form-field class=\"email-field\">\r\n                      <mat-label>Email ID*</mat-label>\r\n                      <input matInput [(ngModel)]=\"email\" placeholder=\"Enter Email\" />\r\n                    </mat-form-field>\r\n                  </div>\r\n                </mat-card>\r\n\r\n                <!-- date slot section -->\r\n                <div class=\"date-selection-container\">\r\n                  <h3>Select Date for Home Sample Collection</h3>\r\n\r\n                  <div class=\"date-slider\">\r\n                    <button mat-icon-button (click)=\"prevDate()\" [disabled]=\"currentIndex === 0\">\r\n                      <mat-icon>chevron_left</mat-icon>\r\n                    </button>\r\n\r\n                    <div class=\"date-cards\">\r\n                      <div\r\n                        *ngFor=\"let date of visibleDates; let i = index\"\r\n                        [ngClass]=\"{ 'selected-date': i === selectedDateIndex }\"\r\n                        class=\"date-card\"\r\n                        (click)=\"selectDate(i)\"\r\n                      >\r\n                        <div class=\"date\">{{ date.day }}</div>\r\n                        <div class=\"day\">{{ date.weekday }}</div>\r\n                        <div class=\"status\" *ngIf=\"date.isAvailable\">Available</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <button\r\n                      mat-icon-button\r\n                      (click)=\"nextDate()\"\r\n                      [disabled]=\"currentIndex + visibleCount >= availableDates.length\"\r\n                    >\r\n                      <mat-icon>chevron_right</mat-icon>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <!-- time slot section -->\r\n                <div class=\"time-slot-container\">\r\n                  <h3>Select Time Slot</h3>\r\n\r\n                  <mat-card class=\"time-slot-card\">\r\n                    <!-- Morning Slots -->\r\n                    <div class=\"slot-section\">\r\n                      <div class=\"slot-header\">\r\n                        <mat-icon>light_mode</mat-icon>\r\n                        Morning Slots (AM)\r\n                      </div>\r\n                      <div class=\"slot-buttons\">\r\n                        <button\r\n                          mat-stroked-button\r\n                          *ngFor=\"let slot of morningSlots; let i = index\"\r\n                          [ngClass]=\"{ 'selected-slot': selectedSlot === slot }\"\r\n                          (click)=\"selectSlot(slot)\"\r\n                        >\r\n                          <span class=\"time\">\r\n                            <strong>{{ slot.start }}</strong> - <span>{{ slot.end }}</span>\r\n                          </span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <!-- Afternoon Slots -->\r\n                    <div class=\"slot-section\">\r\n                      <div class=\"slot-header\">\r\n                        <mat-icon>wb_sunny</mat-icon>\r\n                        Afternoon Slots (PM)\r\n                      </div>\r\n                      <div class=\"slot-buttons\">\r\n                        <button\r\n                          mat-stroked-button\r\n                          *ngFor=\"let slot of afternoonSlots; let i = index\"\r\n                          [ngClass]=\"{ 'selected-slot': selectedSlot === slot }\"\r\n                          (click)=\"selectSlot(slot)\"\r\n                        >\r\n                          <span class=\"time\">\r\n                            <strong>{{ slot.start }}</strong> - <span>{{ slot.end }}</span>\r\n                          </span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </mat-card>\r\n                </div>\r\n              </div>\r\n            </mat-step>\r\n            <mat-step label=\"Payment\">\r\n              <p>Payment Details</p>\r\n\r\n              <div class=\"payment-section\">\r\n                <h3>Appointment Details</h3>\r\n                <mat-card class=\"appointment-card\">\r\n                  <div class=\"appointment-info\">\r\n                    <div class=\"appointment-header\">\r\n                      <mat-icon color=\"warn\">home</mat-icon>\r\n                      Home Sample Collection\r\n                    </div>\r\n                    <div class=\"contact-info\">\r\n                      <p><mat-icon>call</mat-icon> {{ phone }}</p>\r\n                      <p><mat-icon>email</mat-icon> {{ email }}</p>\r\n                    </div>\r\n                    <div class=\"date-time-info\">\r\n                      <p><mat-icon>calendar_today</mat-icon> {{ selectedDate.day }}, {{ selectedDate.weekday }}</p>\r\n                      <p><mat-icon>schedule</mat-icon> {{ selectedSlot1.start }} - {{ selectedSlot1.end }}</p>\r\n                    </div>\r\n                    <div class=\"address-info\">\r\n                      <p>\r\n                        <mat-icon>location_on</mat-icon>\r\n                        {{ locationDetails }}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </mat-card>\r\n\r\n                <h3>Order Details</h3>\r\n                <mat-card class=\"order-card\" *ngFor=\"let item of cartItems\">\r\n                  <div class=\"order-patient\">\r\n                    <mat-icon>person</mat-icon>\r\n                    <div>\r\n                      <h4>{{ item.patientName }}</h4>\r\n                      <p>Colleague, Male, 26</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"order-tests\">\r\n                    <div *ngFor=\"let test of item.tests\" class=\"test-item\">\r\n                      <span>{{ test.testName }}</span>\r\n                      <span>₹ {{ test.price }}</span>\r\n                    </div>\r\n                  </div>\r\n                </mat-card>\r\n\r\n                <div class=\"total-amount\">\r\n                  <h3>Total Amount:</h3>\r\n                  <h3>₹ {{ totalAmount }}</h3>\r\n                </div>\r\n              </div>\r\n\r\n            </mat-step>\r\n        </mat-stepper>\r\n      </mat-card-content>\r\n    </mat-card>\r\n\r\n\r\n\r\n\r\n\r\n    <!-- Summary Section -->\r\n    <mat-card class=\"summary-card\">\r\n      <legend>Estimated Amount</legend>\r\n      <span class=\"amount\">₹{{ totalAmount }}/-</span>\r\n      <!-- <button mat-raised-button color=\"primary\" (click)=\"addAnotherPatient()\">\r\n       Add Patient Details\r\n      </button> -->\r\n\r\n      <button\r\n        mat-raised-button\r\n        color=\"primary\"\r\n        (click)=\"addAnotherPatient()\"\r\n        *ngIf=\"!isHomeSlotActive && !ispaymentSlotActive\">\r\n        <mat-icon>add_circle</mat-icon>\r\n        Add Patient Details\r\n      </button>\r\n\r\n      <button mat-raised-button color=\"primary\" (click)=\"saveandnext(stepper)\"\r\n        *ngIf=\"!ispaymentSlotActive\">\r\n        <mat-icon>play_arrow</mat-icon>\r\n        <span class=\"button-text\">Continue</span>\r\n      </button>\r\n\r\n      <button mat-raised-button color=\"primary\" (click)=\"proceedtopay()\"\r\n        *ngIf=\"ispaymentSlotActive\" style=\"color: #e36464;\">\r\n        <mat-icon>payment</mat-icon>\r\n        <span class=\"button-text\">Proceed To Pay</span>\r\n      </button>\r\n\r\n      <p class=\"disclaimer\">\r\n        <mat-icon>info</mat-icon>\r\n        Test Prices may vary according to the Lab Centre. The actual price will\r\n        be shown after Lab centre is selected during checkout.\r\n      </p>\r\n    </mat-card>\r\n</div>\r\n\r\n\r\n\r\n\r\n"
        }
    ]
}