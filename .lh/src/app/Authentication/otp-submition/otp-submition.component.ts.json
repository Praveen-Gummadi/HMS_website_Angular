{
    "sourceFile": "src/app/authentication/otp-submition/otp-submition.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 18,
            "patches": [
                {
                    "date": 1736943144983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736943566121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,30 +8,18 @@\n   templateUrl: './otp-submition.component.html',\r\n   styleUrl: './otp-submition.component.scss'\r\n })\r\n export class OtpSubmitionComponent {\r\n-  mobileNumber: string = '+91 ';\r\n+  otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  allowOnlyNumbers(event: KeyboardEvent): void {\r\n-    const charCode = event.key.charCodeAt(0);\r\n-    if (charCode < 48 || charCode > 57) {\r\n-      event.preventDefault();\r\n-    }\r\n-  }\r\n-\r\n-  validateForm(): void {\r\n-    this.isFormValid = this.mobileNumber.trim().length >= 10\r\n-  }\r\n-\r\n   onContinue(): void {\r\n-    console.log('Mobile Number:', this.mobileNumber);\r\n+    console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n-      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n-      alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n+      alert(`OTP Submitted: ${this.otp}`);\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n     // Add further logic here, e.g., calling an API\r\n"
                },
                {
                    "date": 1736943653401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,12 @@\n   otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n+  validateForm(): void {\r\n+    this.isFormValid = false\r\n+  }\r\n+\r\n   onContinue(): void {\r\n     console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n"
                },
                {
                    "date": 1736943700076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,8 +16,15 @@\n   validateForm(): void {\r\n     this.isFormValid = false\r\n   }\r\n \r\n+  allowOnlyNumbers(event: KeyboardEvent): void {\r\n+    const charCode = event.key.charCodeAt(0);\r\n+    if (charCode < 48 || charCode > 57) {\r\n+      event.preventDefault();\r\n+    }\r\n+  }\r\n+\r\n   onContinue(): void {\r\n     console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n"
                },
                {
                    "date": 1736943710100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,19 +12,19 @@\n   otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  validateForm(): void {\r\n-    this.isFormValid = false\r\n-  }\r\n-\r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n       event.preventDefault();\r\n     }\r\n   }\r\n \r\n+  validateForm(): void {\r\n+    this.isFormValid = false\r\n+  }\r\n+\r\n   onContinue(): void {\r\n     console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n"
                },
                {
                    "date": 1736943812140,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n     }\r\n   }\r\n \r\n   validateForm(): void {\r\n-    this.isFormValid = false\r\n+    this.isFormValid = this.otp.trim().length >= 4\r\n   }\r\n \r\n   onContinue(): void {\r\n     console.log('otp:', this.otp);\r\n"
                },
                {
                    "date": 1736944083509,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,10 @@\n   validateForm(): void {\r\n     this.isFormValid = this.otp.trim().length >= 4\r\n   }\r\n \r\n+  resendotp() {}\r\n+\r\n   onContinue(): void {\r\n     console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n"
                },
                {
                    "date": 1737111842495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,10 @@\n   otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n+  constructor() {private router: Router,}\r\n+\r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n       event.preventDefault();\r\n@@ -31,8 +33,9 @@\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n       alert(`OTP Submitted: ${this.otp}`);\r\n+      this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n     // Add further logic here, e.g., calling an API\r\n"
                },
                {
                    "date": 1737111878000,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import { Component } from '@angular/core';\r\n import { SharedModule } from '../../shared/shared.module';\r\n+import { Router } from '@angular/router';\r\n \r\n @Component({\r\n   selector: 'app-otp-submition',\r\n   standalone: true,\r\n@@ -12,9 +13,9 @@\n   otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  constructor() {private router: Router,}\r\n+  constructor(private router: Router) {}\r\n \r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n"
                },
                {
                    "date": 1737111903993,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n       alert(`OTP Submitted: ${this.otp}`);\r\n-      this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n+      this.router.navigate(['/signup'], {queryParams:  {key: \"Praveen\"} });\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n     // Add further logic here, e.g., calling an API\r\n"
                },
                {
                    "date": 1737111974230,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n       alert(`OTP Submitted: ${this.otp}`);\r\n-      this.router.navigate(['/signup'], {queryParams:  {key: \"Praveen\"} });\r\n+      this.router.navigate(['/signupdetails'], {queryParams:  {key: \"Praveen\"} });\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n     // Add further logic here, e.g., calling an API\r\n"
                },
                {
                    "date": 1737114886829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import { Component } from '@angular/core';\r\n import { SharedModule } from '../../shared/shared.module';\r\n import { Router } from '@angular/router';\r\n+import { LoginService } from '../login.service';\r\n \r\n @Component({\r\n   selector: 'app-otp-submition',\r\n   standalone: true,\r\n@@ -13,9 +14,9 @@\n   otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  constructor(private router: Router) {}\r\n+  constructor(private router: Router, private loginservice: LoginService) {}\r\n \r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n"
                },
                {
                    "date": 1737115338280,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,15 @@\n     console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n-      alert(`OTP Submitted: ${this.otp}`);\r\n+      const otp = this.otp;\r\n+      const massage = this.isWhatsAppChecked;\r\n+      this.loginservice.signinotp(otp, massage).subscribe(() => {\r\n+\r\n+      });\r\n+\r\n+      // alert(`OTP Submitted: ${this.otp}`); commented by me\r\n       this.router.navigate(['/signupdetails'], {queryParams:  {key: \"Praveen\"} });\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n"
                },
                {
                    "date": 1737115487466,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,15 +34,9 @@\n     console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n-      const otp = this.otp;\r\n-      const massage = this.isWhatsAppChecked;\r\n-      this.loginservice.signinotp(otp, massage).subscribe(() => {\r\n-\r\n-      });\r\n-\r\n-      // alert(`OTP Submitted: ${this.otp}`); commented by me\r\n+      alert(`OTP Submitted: ${this.otp}`);\r\n       this.router.navigate(['/signupdetails'], {queryParams:  {key: \"Praveen\"} });\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n"
                },
                {
                    "date": 1737351569458,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  constructor(private router: Router, private loginservice: LoginService) {}\r\n+  constructor(private router: Router) {}\r\n \r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n"
                },
                {
                    "date": 1737354119838,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n-import { Component } from '@angular/core';\r\n+import { Component, OnInit } from '@angular/core';\r\n import { SharedModule } from '../../shared/shared.module';\r\n-import { Router } from '@angular/router';\r\n+import { ActivatedRoute, Router } from '@angular/router';\r\n import { LoginService } from '../login.service';\r\n \r\n @Component({\r\n   selector: 'app-otp-submition',\r\n@@ -33,10 +33,11 @@\n   onContinue(): void {\r\n     console.log('otp:', this.otp);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n-      // Simulate sending an OTP (Replace this with an actual API call)\r\n-      alert(`OTP Submitted: ${this.otp}`);\r\n+\r\n+\r\n+\r\n       this.router.navigate(['/signupdetails'], {queryParams:  {key: \"Praveen\"} });\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n"
                },
                {
                    "date": 1737354326628,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,4 +44,31 @@\n     // Add further logic here, e.g., calling an API\r\n   }\r\n \r\n }\r\n+\r\n+export class OtpSubmitComponent implements OnInit {\r\n+  mobileNumber: string = '';\r\n+  otp: string = '';\r\n+\r\n+  constructor(\r\n+    private loginService: LoginService,\r\n+    private route: ActivatedRoute,\r\n+    private router: Router\r\n+  ) {}\r\n+\r\n+  ngOnInit() {\r\n+    this.route.queryParams.subscribe((params) => {\r\n+      this.mobileNumber = params['mobile'];\r\n+    });\r\n+  }\r\n+\r\n+  onSubmitOtp() {\r\n+    this.loginService.verifyOtp(this.mobileNumber, this.otp).subscribe({\r\n+      next: () => {\r\n+        alert('OTP verified successfully');\r\n+        this.router.navigate(['/dashboard']);\r\n+      },\r\n+      error: (err) => alert('Error verifying OTP: ' + err.message),\r\n+    });\r\n+  }\r\n+}\r\n"
                },
                {
                    "date": 1737354597898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,47 +9,14 @@\n   imports: [SharedModule],\r\n   templateUrl: './otp-submition.component.html',\r\n   styleUrl: './otp-submition.component.scss'\r\n })\r\n-export class OtpSubmitionComponent {\r\n-  otp: string = '';\r\n-  isWhatsAppChecked: boolean = false;\r\n-  isFormValid: boolean = false;\r\n \r\n-  constructor(private router: Router) {}\r\n-\r\n-  allowOnlyNumbers(event: KeyboardEvent): void {\r\n-    const charCode = event.key.charCodeAt(0);\r\n-    if (charCode < 48 || charCode > 57) {\r\n-      event.preventDefault();\r\n-    }\r\n-  }\r\n-\r\n-  validateForm(): void {\r\n-    this.isFormValid = this.otp.trim().length >= 4\r\n-  }\r\n-\r\n-  resendotp() {}\r\n-\r\n-  onContinue(): void {\r\n-    console.log('otp:', this.otp);\r\n-    console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n-    if (this.isFormValid) {\r\n-\r\n-\r\n-\r\n-      this.router.navigate(['/signupdetails'], {queryParams:  {key: \"Praveen\"} });\r\n-    } else {\r\n-      alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n-    }\r\n-    // Add further logic here, e.g., calling an API\r\n-  }\r\n-\r\n-}\r\n-\r\n export class OtpSubmitComponent implements OnInit {\r\n   mobileNumber: string = '';\r\n   otp: string = '';\r\n+  isWhatsAppChecked: boolean = false;\r\n+  isFormValid: boolean = false;\r\n \r\n   constructor(\r\n     private loginService: LoginService,\r\n     private route: ActivatedRoute,\r\n@@ -62,13 +29,31 @@\n     });\r\n   }\r\n \r\n   onSubmitOtp() {\r\n+    console.log('otp:', this.otp);\r\n+    console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     this.loginService.verifyOtp(this.mobileNumber, this.otp).subscribe({\r\n       next: () => {\r\n         alert('OTP verified successfully');\r\n-        this.router.navigate(['/dashboard']);\r\n+        this.router.navigate(['/signupdetails'], {queryParams:  {key: \"Praveen\"} });\r\n       },\r\n       error: (err) => alert('Error verifying OTP: ' + err.message),\r\n     });\r\n   }\r\n+\r\n+\r\n+  /////************ */\r\n+\r\n+  allowOnlyNumbers(event: KeyboardEvent): void {\r\n+    const charCode = event.key.charCodeAt(0);\r\n+    if (charCode < 48 || charCode > 57) {\r\n+      event.preventDefault();\r\n+    }\r\n+  }\r\n+\r\n+  validateForm(): void {\r\n+    this.isFormValid = this.otp.trim().length >= 4\r\n+  }\r\n+\r\n+  resendotp() {}\r\n }\r\n"
                },
                {
                    "date": 1737354860005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n   templateUrl: './otp-submition.component.html',\r\n   styleUrl: './otp-submition.component.scss'\r\n })\r\n \r\n-export class OtpSubmitComponent implements OnInit {\r\n+export class OtpSubmitionComponent implements OnInit {\r\n   mobileNumber: string = '';\r\n   otp: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n"
                }
            ],
            "date": 1736943144983,
            "name": "Commit-0",
            "content": "import { Component } from '@angular/core';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@Component({\r\n  selector: 'app-otp-submition',\r\n  standalone: true,\r\n  imports: [SharedModule],\r\n  templateUrl: './otp-submition.component.html',\r\n  styleUrl: './otp-submition.component.scss'\r\n})\r\nexport class OtpSubmitionComponent {\r\n  mobileNumber: string = '+91 ';\r\n  isWhatsAppChecked: boolean = false;\r\n  isFormValid: boolean = false;\r\n\r\n  allowOnlyNumbers(event: KeyboardEvent): void {\r\n    const charCode = event.key.charCodeAt(0);\r\n    if (charCode < 48 || charCode > 57) {\r\n      event.preventDefault();\r\n    }\r\n  }\r\n\r\n  validateForm(): void {\r\n    this.isFormValid = this.mobileNumber.trim().length >= 10\r\n  }\r\n\r\n  onContinue(): void {\r\n    console.log('Mobile Number:', this.mobileNumber);\r\n    console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n    if (this.isFormValid) {\r\n      // Simulate sending an OTP (Replace this with an actual API call)\r\n      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n      alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n    } else {\r\n      alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n    }\r\n    // Add further logic here, e.g., calling an API\r\n  }\r\n\r\n}\r\n"
        }
    ]
}