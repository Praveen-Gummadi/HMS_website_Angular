{
    "sourceFile": "src/app/authentication/signin/signin.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 20,
            "patches": [
                {
                    "date": 1736501875792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736504812359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,6 +8,18 @@\n   templateUrl: './signin.component.html',\r\n   styleUrl: './signin.component.scss'\r\n })\r\n export class SigninComponent {\r\n+  mobileNumber: string = '+91 ';\r\n+  isWhatsAppChecked: boolean = false;\r\n+  isFormValid: boolean = false;\r\n \r\n+  validateForm(): void {\r\n+    this.isFormValid = this.mobileNumber.trim().length > 0 && this.isWhatsAppChecked;\r\n+  }\r\n+\r\n+  onContinue(): void {\r\n+    console.log('Mobile Number:', this.mobileNumber);\r\n+    console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n+    // Add further logic here, e.g., calling an API\r\n+  }\r\n }\r\n"
                },
                {
                    "date": 1736505069768,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n   validateForm(): void {\r\n-    this.isFormValid = this.mobileNumber.trim().length > 0 && this.isWhatsAppChecked;\r\n+    this.isFormValid = this.mobileNumber.trim().length >= 10\r\n   }\r\n \r\n   onContinue(): void {\r\n     console.log('Mobile Number:', this.mobileNumber);\r\n"
                },
                {
                    "date": 1736506473279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,15 @@\n   mobileNumber: string = '+91 ';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n+  allowOnlyNumbers(event: KeyboardEvent): void {\r\n+    const charCode = event.key.charCodeAt(0);\r\n+    if (charCode < 48 || charCode > 57) {\r\n+      event.preventDefault();\r\n+    }\r\n+  }\r\n+\r\n   validateForm(): void {\r\n     this.isFormValid = this.mobileNumber.trim().length >= 10\r\n   }\r\n \r\n"
                },
                {
                    "date": 1736511566668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,7 +26,24 @@\n \r\n   onContinue(): void {\r\n     console.log('Mobile Number:', this.mobileNumber);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n+    if (this.isFormValid) {\r\n+      // Simulate sending an OTP (Replace this with an actual API call)\r\n+      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n+      alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n+    } else {\r\n+      alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n+    }\r\n     // Add further logic here, e.g., calling an API\r\n   }\r\n+\r\n+  sendOtp(): void {\r\n+    if (this.isFormValid) {\r\n+      // Simulate sending an OTP (Replace this with an actual API call)\r\n+      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n+      alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n+    } else {\r\n+      alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n+    }\r\n+  }\r\n }\r\n"
                },
                {
                    "date": 1736511572693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,14 +36,5 @@\n     }\r\n     // Add further logic here, e.g., calling an API\r\n   }\r\n \r\n-  sendOtp(): void {\r\n-    if (this.isFormValid) {\r\n-      // Simulate sending an OTP (Replace this with an actual API call)\r\n-      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n-      alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n-    } else {\r\n-      alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n-    }\r\n-  }\r\n }\r\n"
                },
                {
                    "date": 1736945047767,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,12 @@\n import { Component } from '@angular/core';\r\n import { SharedModule } from '../../shared/shared.module';\r\n+import { RouterLink } from '@angular/router';\r\n \r\n @Component({\r\n   selector: 'app-signin',\r\n   standalone: true,\r\n-  imports: [SharedModule],\r\n+  imports: [SharedModule, RouterLink],\r\n   templateUrl: './signin.component.html',\r\n   styleUrl: './signin.component.scss'\r\n })\r\n export class SigninComponent {\r\n"
                },
                {
                    "date": 1737115553510,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,11 @@\n import { Component } from '@angular/core';\r\n import { SharedModule } from '../../shared/shared.module';\r\n-import { RouterLink } from '@angular/router';\r\n \r\n @Component({\r\n   selector: 'app-signin',\r\n   standalone: true,\r\n-  imports: [SharedModule, RouterLink],\r\n+  imports: [SharedModule],\r\n   templateUrl: './signin.component.html',\r\n   styleUrl: './signin.component.scss'\r\n })\r\n export class SigninComponent {\r\n@@ -30,9 +29,9 @@\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n       console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n-      alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n+      // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n     // Add further logic here, e.g., calling an API\r\n"
                },
                {
                    "date": 1737115609340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,8 @@\n import { Component } from '@angular/core';\r\n import { SharedModule } from '../../shared/shared.module';\r\n+import { LoginService } from '../login.service';\r\n+import { Router } from '@angular/router';\r\n \r\n @Component({\r\n   selector: 'app-signin',\r\n   standalone: true,\r\n@@ -12,8 +14,10 @@\n   mobileNumber: string = '+91 ';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n+  constructor(private router: Router, private loginservice: LoginService) {}\r\n+\r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n       event.preventDefault();\r\n"
                },
                {
                    "date": 1737115634103,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,8 +33,9 @@\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n       console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n+      this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n       // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n"
                },
                {
                    "date": 1737115655554,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -32,8 +32,11 @@\n     console.log('Mobile Number:', this.mobileNumber);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n+\r\n+\r\n+\r\n       console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n       this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n       // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n"
                },
                {
                    "date": 1737115916009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,10 +33,18 @@\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n \r\n+      this.loginservice.signinOtp('+1234567890', true).subscribe(\r\n+        (response) => {\r\n+          console.log('OTP:', response.otp);\r\n+          console.log('Message:', response.message);\r\n+        },\r\n+        (error) => {\r\n+          console.error('Error sending OTP:', error);\r\n+        }\r\n+      );\r\n \r\n-\r\n       console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n       this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n       // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n"
                },
                {
                    "date": 1737116034772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,11 +31,12 @@\n   onContinue(): void {\r\n     console.log('Mobile Number:', this.mobileNumber);\r\n     console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n     if (this.isFormValid) {\r\n+      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n+\r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n-\r\n-      this.loginservice.signinOtp('+1234567890', true).subscribe(\r\n+      this.loginservice.signinOtp(this.mobileNumber, true).subscribe(\r\n         (response) => {\r\n           console.log('OTP:', response.otp);\r\n           console.log('Message:', response.message);\r\n         },\r\n@@ -43,9 +44,8 @@\n           console.error('Error sending OTP:', error);\r\n         }\r\n       );\r\n \r\n-      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n       this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n       // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n"
                },
                {
                    "date": 1737116781297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   mobileNumber: string = '+91 ';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  constructor(private router: Router, private loginservice: LoginService) {}\r\n+  constructor(private router: Router, private loginService: LoginService) {}\r\n \r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n@@ -27,30 +27,23 @@\n   validateForm(): void {\r\n     this.isFormValid = this.mobileNumber.trim().length >= 10\r\n   }\r\n \r\n-  onContinue(): void {\r\n-    console.log('Mobile Number:', this.mobileNumber);\r\n-    console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n-    if (this.isFormValid) {\r\n-      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n+  sendOtp(mobileNumber: string, isWhatsAppChecked: boolean): void {\r\n+    this.loginService.signinOtp(mobileNumber, isWhatsAppChecked).subscribe(\r\n+      (response) => {\r\n+        console.log('OTP Sent:', response.otp);\r\n+        console.log('Message:', response.message);\r\n \r\n-      // Simulate sending an OTP (Replace this with an actual API call)\r\n-      this.loginservice.signinOtp(this.mobileNumber, true).subscribe(\r\n-        (response) => {\r\n-          console.log('OTP:', response.otp);\r\n-          console.log('Message:', response.message);\r\n-        },\r\n-        (error) => {\r\n-          console.error('Error sending OTP:', error);\r\n-        }\r\n-      );\r\n-\r\n-      this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n-      // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n-    } else {\r\n-      alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n-    }\r\n-    // Add further logic here, e.g., calling an API\r\n+        // Navigate to OTP summation page with data\r\n+        this.router.navigate(['/otp-summation'], {\r\n+          state: { otp: response.otp, message: response.message, mobileNumber }\r\n+        });\r\n+      },\r\n+      (error) => {\r\n+        console.error('Error sending OTP:', error);\r\n+        // Handle error appropriately\r\n+      }\r\n+    );\r\n   }\r\n \r\n }\r\n"
                },
                {
                    "date": 1737116847605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   mobileNumber: string = '+91 ';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  constructor(private router: Router, private loginService: LoginService) {}\r\n+  constructor(private router: Router, private loginservice: LoginService) {}\r\n \r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n@@ -27,23 +27,30 @@\n   validateForm(): void {\r\n     this.isFormValid = this.mobileNumber.trim().length >= 10\r\n   }\r\n \r\n-  sendOtp(mobileNumber: string, isWhatsAppChecked: boolean): void {\r\n-    this.loginService.signinOtp(mobileNumber, isWhatsAppChecked).subscribe(\r\n-      (response) => {\r\n-        console.log('OTP Sent:', response.otp);\r\n-        console.log('Message:', response.message);\r\n+  onContinue(): void {\r\n+    console.log('Mobile Number:', this.mobileNumber);\r\n+    console.log('WhatsApp Consent:', this.isWhatsAppChecked);\r\n+    if (this.isFormValid) {\r\n+      console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n \r\n-        // Navigate to OTP summation page with data\r\n-        this.router.navigate(['/otp-summation'], {\r\n-          state: { otp: response.otp, message: response.message, mobileNumber }\r\n-        });\r\n-      },\r\n-      (error) => {\r\n-        console.error('Error sending OTP:', error);\r\n-        // Handle error appropriately\r\n-      }\r\n-    );\r\n+      // Simulate sending an OTP (Replace this with an actual API call)\r\n+      this.loginservice.signinOtp(this.mobileNumber, true).subscribe(\r\n+        (response) => {\r\n+          console.log('OTP:', response.otp);\r\n+          console.log('Message:', response.message);\r\n+        },\r\n+        (error) => {\r\n+          console.error('Error sending OTP:', error);\r\n+        }\r\n+      );\r\n+\r\n+      this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n+      // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n+    } else {\r\n+      alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n+    }\r\n+    // Add further logic here, e.g., calling an API\r\n   }\r\n \r\n }\r\n"
                },
                {
                    "date": 1737351244760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,17 +34,8 @@\n     if (this.isFormValid) {\r\n       console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n \r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n-      this.loginservice.signinOtp(this.mobileNumber, true).subscribe(\r\n-        (response) => {\r\n-          console.log('OTP:', response.otp);\r\n-          console.log('Message:', response.message);\r\n-        },\r\n-        (error) => {\r\n-          console.error('Error sending OTP:', error);\r\n-        }\r\n-      );\r\n \r\n       this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n       // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n"
                },
                {
                    "date": 1737351278738,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   mobileNumber: string = '+91 ';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  constructor(private router: Router, private loginservice: LoginService) {}\r\n+  constructor(private router: Router) {}\r\n \r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n"
                },
                {
                    "date": 1737355015625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,9 +14,9 @@\n   mobileNumber: string = '+91 ';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n-  constructor(private router: Router) {}\r\n+  constructor(private loginService: LoginService, private router: Router) {}\r\n \r\n   allowOnlyNumbers(event: KeyboardEvent): void {\r\n     const charCode = event.key.charCodeAt(0);\r\n     if (charCode < 48 || charCode > 57) {\r\n"
                },
                {
                    "date": 1737355067653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,8 +35,16 @@\n       console.log(`Sending OTP to: ${this.mobileNumber}`);\r\n \r\n       // Simulate sending an OTP (Replace this with an actual API call)\r\n \r\n+      this.loginService.generateOtp(this.mobileNumber).subscribe({\r\n+        next: () => {\r\n+          alert('OTP sent successfully');\r\n+          this.router.navigate(['/otp-submit'], { queryParams: { mobile: this.mobileNumber } });\r\n+        },\r\n+        error: (err) => alert('Error sending OTP: ' + err.message),\r\n+      });\r\n+\r\n       this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n       // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n"
                },
                {
                    "date": 1737356496594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n   templateUrl: './signin.component.html',\r\n   styleUrl: './signin.component.scss'\r\n })\r\n export class SigninComponent {\r\n-  mobileNumber: string = '+91 ';\r\n+  mobileNumber: string = '';\r\n   isWhatsAppChecked: boolean = false;\r\n   isFormValid: boolean = false;\r\n \r\n   constructor(private loginService: LoginService, private router: Router) {}\r\n"
                },
                {
                    "date": 1737357620200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,9 @@\n         },\r\n         error: (err) => alert('Error sending OTP: ' + err.message),\r\n       });\r\n \r\n-      this.router.navigate(['/otp'], {queryParams:  {key: \"Praveen\"} });\r\n+      this.router.navigate(['/otp'], { queryParams: { mobile: this.mobileNumber } });\r\n       // alert(`OTP sent to mobile number ${this.mobileNumber}`);\r\n     } else {\r\n       alert('Please enter a valid mobile number and accept WhatsApp terms.');\r\n     }\r\n"
                }
            ],
            "date": 1736501875792,
            "name": "Commit-0",
            "content": "import { Component } from '@angular/core';\r\nimport { SharedModule } from '../../shared/shared.module';\r\n\r\n@Component({\r\n  selector: 'app-signin',\r\n  standalone: true,\r\n  imports: [SharedModule],\r\n  templateUrl: './signin.component.html',\r\n  styleUrl: './signin.component.scss'\r\n})\r\nexport class SigninComponent {\r\n\r\n}\r\n"
        }
    ]
}